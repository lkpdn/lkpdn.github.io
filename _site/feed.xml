<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-12-06T23:44:08+09:00</updated><id>http://localhost:4000/</id><title type="html">Tech matters illustrated.</title><subtitle>personal blog.</subtitle><author><name>Koichiro Den</name><email>den@klaipeden.com</email></author><entry><title type="html">_\“Lockdep, step back to see it wholly.\“_</title><link href="http://localhost:4000/linux/2018/12/05/test.html" rel="alternate" type="text/html" title="_\&quot;Lockdep, step back to see it wholly.\&quot;_" /><published>2018-12-05T21:40:08+09:00</published><updated>2018-12-05T21:40:08+09:00</updated><id>http://localhost:4000/linux/2018/12/05/test</id><content type="html" xml:base="http://localhost:4000/linux/2018/12/05/test.html">&lt;p&gt;You would often been confronted with various kinds of lockdep notations, or even have to choose an appropriate one to use, when you would have to dive into linux kernel for some reason. This post presents its overview, which I think is rarely illustrated as a whole. The first pic is its usage pattern. You can click it to zoom in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0002-lockdep-use-overview.png&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0002-lockdep-use-overview.png&quot; alt=&quot;lockdep use&quot; class=&quot;img-responsive&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and the next one depicts the almost all relating data structure:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0003-lockdep-data-structure.png&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0003-lockdep-data-structure.png&quot; alt=&quot;lockdep use&quot; class=&quot;img-responsive&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now that you’ve grasped the whole picture of lockdep, I would like to show you what I think is one of the most interesting reality of how it’s been used, i.e., reality sucks. The scene is where the lockdep has to be fooled by aio.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0006-lockdep-fooled-by-aio.png&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/lkpdn/images/master/imgs/0006-lockdep-fooled-by-aio.png&quot; alt=&quot;lockdep use&quot; class=&quot;img-responsive&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I tried to tackle this and remove the hack but I couldn’t offer any good solution.&lt;/p&gt;

&lt;p&gt;I hope this post helps someone.&lt;/p&gt;</content><author><name>Koichiro Den</name><email>den@klaipeden.com</email></author><summary type="html">You would often been confronted with various kinds of lockdep notations, or even have to choose an appropriate one to use, when you would have to dive into linux kernel for some reason. This post presents its overview, which I think is rarely illustrated as a whole. The first pic is its usage pattern. You can click it to zoom in:</summary></entry></feed>